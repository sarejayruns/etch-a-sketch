.row {
    display : flex;
}

.box:after {
    content: "";
    float:left;
    display: block;
    padding-top: 100%;
}

.inner {
    position : absolute;
    left : 0;
    right : 0;
    bottom : 0;
    top : 0;
    display : flex;
    align-items : center;
    justify-content : center;
}

.box {
    margin : 1px;
    flex : 1 0 auto;
    position : relative;
    border: 1px solid black;
}